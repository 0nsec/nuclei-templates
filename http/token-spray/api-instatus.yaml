id: api-instatus

info:
  name: Instatus API Test
  author: daffainfo
  severity: info
  description: Post to and update maintenance and incidents on your status page through an HTTP REST API
  reference:
    - https://instatus.com/help/api
    - https://github.com/daffainfo/all-about-apikey/tree/main/instatus
  metadata:
    max-request: 1
  tags: token-spray,instatus

self-contained: true

http:
  - method: GET
    path:
      - "https://api.instatus.com/v1/pages"

    headers:
      Authorization: Bearer {{token}}
    matchers:
      - type: word
        part: body
        words:
          - '"id":'
          - '"subdomain":'
          - '"name":'
          - '"logoUrl":'
        condition: and
# digest: 490a00463044022010ed9883dbc83f92aa9757877efb19c12064166fcca569523e6c4d37378083ec022021ec8d4047c34cd2e9970e2ad8fb8f9551a8dd052e8135f6adfc978e1732eff2:922c64590222798bb761d5b6d8e72950