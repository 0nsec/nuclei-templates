id: api-abstract-exchange-rates

info:
  name: Abstract Api Exchange Rates Test
  author: daffainfo
  severity: info
  description: Get live and historical data from 60+ fiat and crypto currencies via a modern REST API
  reference:
    - https://www.abstractapi.com/api/exchange-rate-api
    - https://github.com/daffainfo/all-about-apikey/tree/main/abstract-exchange-rates
  metadata:
    max-request: 1
  tags: token-spray,abstractapi

self-contained: true

http:
  - method: GET
    path:
      - "https://exchange-rates.abstractapi.com/v1/live/?api_key={{token}}&base=USD"

    matchers:
      - type: word
        part: body
        words:
          - '"base":'
          - '"last_updated":'
          - '"exchange_rate":'
        condition: and
# digest: 4a0a00473045022100bb40e5a6c5cb004f9f1970fdfacfca4ffa895e1c04422a88de37f80807c81c7f022065e368f8c9a29bd6587fcfc5d2577944738f02042d53b7c3dab2dd60feaa54ec:922c64590222798bb761d5b6d8e72950